<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-applications/model-schema-db" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Mongo DB | Vibra Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://desobsesor.github.io/vibra-web-wiki/img/vibra-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://desobsesor.github.io/vibra-web-wiki/img/vibra-social-card.jpg"><meta data-rh="true" property="og:url" content="https://desobsesor.github.io/vibra-web-wiki/docs/applications/model-schema-db"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Mongo DB | Vibra Wiki"><meta data-rh="true" name="description" content="This document provides a comprehensive overview of the MongoDB database schema used in the Vibra application. The schema is organized by domain categories, with detailed descriptions of each collection, its fields, data types, and relationships with other collections."><meta data-rh="true" property="og:description" content="This document provides a comprehensive overview of the MongoDB database schema used in the Vibra application. The schema is organized by domain categories, with detailed descriptions of each collection, its fields, data types, and relationships with other collections."><link data-rh="true" rel="icon" href="/vibra-web-wiki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://desobsesor.github.io/vibra-web-wiki/docs/applications/model-schema-db"><link data-rh="true" rel="alternate" href="https://desobsesor.github.io/vibra-web-wiki/docs/applications/model-schema-db" hreflang="en"><link data-rh="true" rel="alternate" href="https://desobsesor.github.io/vibra-web-wiki/docs/applications/model-schema-db" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Applications in Vibra","item":"https://desobsesor.github.io/vibra-web-wiki/docs/category/applications-in-vibra"},{"@type":"ListItem","position":2,"name":"Mongo DB","item":"https://desobsesor.github.io/vibra-web-wiki/docs/applications/model-schema-db"}]}</script><link rel="alternate" type="application/rss+xml" href="/vibra-web-wiki/blog/rss.xml" title="Vibra Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/vibra-web-wiki/blog/atom.xml" title="Vibra Wiki Atom Feed"><link rel="stylesheet" href="/vibra-web-wiki/assets/css/styles.1e384c31.css">
<script src="/vibra-web-wiki/assets/js/runtime~main.7d838e26.js" defer="defer"></script>
<script src="/vibra-web-wiki/assets/js/main.dd3c0a3b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/vibra-web-wiki/img/logovibra.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/vibra-web-wiki/"><div class="navbar__logo"><img src="/vibra-web-wiki/img/logovibra.png" alt="Vibra wiki logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/vibra-web-wiki/img/logovibra.png" alt="Vibra wiki logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Vibra Wiki</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/vibra-web-wiki/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/vibra-web-wiki/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vibra-web-wiki/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/vibra-web-wiki/docs/category/applications-in-vibra">Applications in Vibra</a><button aria-label="Collapse sidebar category &#x27;Applications in Vibra&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/vibra-web-wiki/docs/applications/model-schema-db">Mongo DB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vibra-web-wiki/docs/applications/dashboard-api">Dashboard API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vibra-web-wiki/docs/applications/dashboard-web">Dashboard Web</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-vibra-web-mb"><a class="menu__link" tabindex="0" href="/vibra-web-wiki/docs/applications/vibra-web-mb">Vibra web mb</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/vibra-web-wiki/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/vibra-web-wiki/docs/category/applications-in-vibra"><span>Applications in Vibra</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Mongo DB</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Mongo DB</h1></header>
<h1>Database Schema Documentation</h1>
<p>This document provides a comprehensive overview of the MongoDB database schema used in the Vibra application. The schema is organized by domain categories, with detailed descriptions of each collection, its fields, data types, and relationships with other collections.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents">​</a></h2>
<ul>
<li><a href="#user-management">User Management</a></li>
<li><a href="#activities-and-learning">Activities and Learning</a></li>
<li><a href="#notifications">Notifications</a></li>
<li><a href="#permissions-and-access-control">Permissions and Access Control</a></li>
<li><a href="#organizations">Organizations</a></li>
<li><a href="#system-configuration">System Configuration</a></li>
<li><a href="#audit-and-reporting">Audit and Reporting</a></li>
<li><a href="#file-storage">File Storage</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preview">Preview<a href="#preview" class="hash-link" aria-label="Direct link to Preview" title="Direct link to Preview">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Collection diagram" src="/vibra-web-wiki/assets/images/diagramcollectionsmin-5ec6ea14719032e1161d648913f8085a.png" width="5616" height="2697" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-management">User Management<a href="#user-management" class="hash-link" aria-label="Direct link to User Management" title="Direct link to User Management">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="users">Users<a href="#users" class="hash-link" aria-label="Direct link to Users" title="Direct link to Users">​</a></h3>
<p>The Users collection stores information about system users, including personal details, authentication information, and system access settings.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>name</td><td>String</td><td>User&#x27;s full name</td></tr><tr><td>documentType</td><td>ObjectId</td><td>Reference to document type</td></tr><tr><td>documentNumber</td><td>String</td><td>User&#x27;s identification number</td></tr><tr><td>address</td><td>String</td><td>User&#x27;s physical address</td></tr><tr><td>phoneNumber</td><td>String</td><td>User&#x27;s contact number</td></tr><tr><td>email</td><td>String</td><td>User&#x27;s email address</td></tr><tr><td>username</td><td>String</td><td>User&#x27;s login username</td></tr><tr><td>password</td><td>String</td><td>Encrypted password</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>createdBy</td><td>String</td><td>Creator reference</td></tr><tr><td>editedAt</td><td>DateTime</td><td>Last edit timestamp</td></tr><tr><td>editedBy</td><td>String</td><td>Last editor reference</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>isActive</td><td>Boolean</td><td>Account status</td></tr><tr><td>role</td><td>ObjectId</td><td>Reference to Roles collection</td></tr><tr><td>company</td><td>ObjectId</td><td>Reference to Companies collection</td></tr><tr><td>gender</td><td>String</td><td>User&#x27;s gender</td></tr><tr><td>isLogged</td><td>Boolean</td><td>Current login status</td></tr><tr><td>avatar</td><td>String</td><td>Profile image reference</td></tr><tr><td>birthDate</td><td>DateTime</td><td>User&#x27;s date of birth</td></tr><tr><td>updatedAt</td><td>DateTime</td><td>Last update timestamp</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Users → Roles (Many-to-One): Each user has one role</li>
<li>Users → Companies (Many-to-One): Each user belongs to one company</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="userpolicies">UserPolicies<a href="#userpolicies" class="hash-link" aria-label="Direct link to UserPolicies" title="Direct link to UserPolicies">​</a></h3>
<p>Tracks user acceptance of system policies and terms.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>userId</td><td>ObjectId</td><td>Reference to Users collection</td></tr><tr><td>policyId</td><td>ObjectId</td><td>Reference to Policies collection</td></tr><tr><td>userPolicyKey</td><td>String</td><td>Unique identifier for user-policy pair</td></tr><tr><td>version</td><td>String</td><td>Policy version accepted</td></tr><tr><td>isAccepted</td><td>Boolean</td><td>Acceptance status</td></tr><tr><td>ipAddress</td><td>String</td><td>IP address during acceptance</td></tr><tr><td>userAgent</td><td>String</td><td>Browser/device information</td></tr><tr><td>acceptedAt</td><td>DateTime</td><td>Acceptance timestamp</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>updatedAt</td><td>DateTime</td><td>Last update timestamp</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>UserPolicies → Users (Many-to-One): Each policy acceptance belongs to one user</li>
<li>UserPolicies → Policies (Many-to-One): Each policy acceptance refers to one policy</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="roles">Roles<a href="#roles" class="hash-link" aria-label="Direct link to Roles" title="Direct link to Roles">​</a></h3>
<p>Defines user roles and their administrative capabilities.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>serial</td><td>String</td><td>Unique identifier</td></tr><tr><td>name</td><td>String</td><td>Role name</td></tr><tr><td>description</td><td>String</td><td>Role description</td></tr><tr><td>isSuperAdmin</td><td>Boolean</td><td>Super admin privileges flag</td></tr><tr><td>isActive</td><td>Boolean</td><td>Role status</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>createdBy</td><td>String</td><td>Creator reference</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>editedAt</td><td>DateTime</td><td>Last edit timestamp</td></tr><tr><td>permissionTemplate</td><td>String</td><td>Template for role permissions</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Roles → Users (One-to-Many): Each role can be assigned to multiple users</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="activities-and-learning">Activities and Learning<a href="#activities-and-learning" class="hash-link" aria-label="Direct link to Activities and Learning" title="Direct link to Activities and Learning">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="activities">Activities<a href="#activities" class="hash-link" aria-label="Direct link to Activities" title="Direct link to Activities">​</a></h3>
<p>Stores educational activities and their associated resources and questions.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>id</td><td>String</td><td>Activity identifier</td></tr><tr><td>emotions</td><td>String</td><td>Associated emotions</td></tr><tr><td>title</td><td>String</td><td>Activity title</td></tr><tr><td>resources</td><td>Resources[]</td><td>Array of learning resources</td></tr><tr><td>questions</td><td>Questions[]</td><td>Array of assessment questions</td></tr><tr><td>difficulty</td><td>Int</td><td>Difficulty level</td></tr><tr><td>isActive</td><td>Boolean</td><td>Activity status</td></tr><tr><td>schedule</td><td>Schedule</td><td>Scheduling information</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Activities → Emotions (Many-to-One): Activities are associated with emotions</li>
<li>Activities → UserResponses (One-to-Many): Each activity can have multiple user responses</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Direct link to Resources" title="Direct link to Resources">​</a></h3>
<p>Embedded document within Activities that defines learning materials.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Resource type (video, article, etc.)</td></tr><tr><td>url</td><td>String</td><td>Resource location</td></tr><tr><td>duration</td><td>Int</td><td>Length in seconds/minutes</td></tr><tr><td>metadata</td><td>Metadatas</td><td>Additional resource information</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metadatas">Metadatas<a href="#metadatas" class="hash-link" aria-label="Direct link to Metadatas" title="Direct link to Metadatas">​</a></h3>
<p>Embedded document within Resources that provides additional context.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>author</td><td>String</td><td>Content creator</td></tr><tr><td>language</td><td>String</td><td>Content language</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="questions">Questions<a href="#questions" class="hash-link" aria-label="Direct link to Questions" title="Direct link to Questions">​</a></h3>
<p>Embedded document within Activities that defines assessment questions.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>Question identifier</td></tr><tr><td>questionText</td><td>String</td><td>The question itself</td></tr><tr><td>type</td><td>String</td><td>Question type (multiple choice, etc.)</td></tr><tr><td>options</td><td>String[]</td><td>Possible answers</td></tr><tr><td>correctAnswer</td><td>String</td><td>The correct answer</td></tr><tr><td>points</td><td>Int</td><td>Point value</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schedule">Schedule<a href="#schedule" class="hash-link" aria-label="Direct link to Schedule" title="Direct link to Schedule">​</a></h3>
<p>Embedded document within Activities that defines when activities should be available.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>date</td><td>DateTime</td><td>Scheduled date</td></tr><tr><td>weekNumber</td><td>Int</td><td>Week number</td></tr><tr><td>year</td><td>Int</td><td>Year</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="emotions">Emotions<a href="#emotions" class="hash-link" aria-label="Direct link to Emotions" title="Direct link to Emotions">​</a></h3>
<p>Defines emotional categories used in activities.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>id</td><td>String</td><td>Emotion identifier</td></tr><tr><td>name</td><td>String</td><td>Emotion name</td></tr><tr><td>orientationNote</td><td>String</td><td>Guidance note</td></tr><tr><td>description</td><td>String</td><td>Detailed description</td></tr><tr><td>icono</td><td>String</td><td>Icon reference</td></tr><tr><td>percentNote</td><td>Int</td><td>Percentage indicator</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Emotions → Activities (One-to-Many): Each emotion can be associated with multiple activities</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="userresponses">UserResponses<a href="#userresponses" class="hash-link" aria-label="Direct link to UserResponses" title="Direct link to UserResponses">​</a></h3>
<p>Stores user answers to activity questions and performance metrics.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>user</td><td>String</td><td>Reference to user</td></tr><tr><td>activity</td><td>String</td><td>Reference to activity</td></tr><tr><td>responses</td><td>UserResponse[]</td><td>Array of individual responses</td></tr><tr><td>score</td><td>Int</td><td>Total score achieved</td></tr><tr><td>startTime</td><td>DateTime</td><td>When user started the activity</td></tr><tr><td>endTime</td><td>DateTime</td><td>When user completed the activity</td></tr><tr><td>timeSpent</td><td>Int</td><td>Duration in seconds</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>updatedAt</td><td>DateTime</td><td>Last update timestamp</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>UserResponses → Users (Many-to-One): Each response set belongs to one user</li>
<li>UserResponses → Activities (Many-to-One): Each response set is for one activity</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="userresponse">UserResponse<a href="#userresponse" class="hash-link" aria-label="Direct link to UserResponse" title="Direct link to UserResponse">​</a></h3>
<p>Embedded document within UserResponses that stores individual question responses.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>questionId</td><td>String</td><td>Reference to question</td></tr><tr><td>answer</td><td>String</td><td>User&#x27;s answer</td></tr><tr><td>isCorrect</td><td>Boolean</td><td>Correctness flag</td></tr><tr><td>responseTime</td><td>Int</td><td>Time taken to answer</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pretest">Pretest<a href="#pretest" class="hash-link" aria-label="Direct link to Pretest" title="Direct link to Pretest">​</a></h3>
<p>Stores preliminary assessment results.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>testId</td><td>String</td><td>Test identifier</td></tr><tr><td>userId</td><td>String</td><td>User reference</td></tr><tr><td>responses</td><td>PretestResponse[]</td><td>Array of responses</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Pretest → Users (Many-to-One): Each pretest belongs to one user</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pretestresponse">PretestResponse<a href="#pretestresponse" class="hash-link" aria-label="Direct link to PretestResponse" title="Direct link to PretestResponse">​</a></h3>
<p>Embedded document within Pretest that stores individual question responses.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>questionId</td><td>String</td><td>Reference to question</td></tr><tr><td>answer</td><td>String</td><td>User&#x27;s answer</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="notifications">Notifications<a href="#notifications" class="hash-link" aria-label="Direct link to Notifications" title="Direct link to Notifications">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notifications-1">Notifications<a href="#notifications-1" class="hash-link" aria-label="Direct link to Notifications" title="Direct link to Notifications">​</a></h3>
<p>Stores system notifications sent to users.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>ID</td><td>String</td><td>Notification identifier</td></tr><tr><td>title</td><td>String</td><td>Notification title</td></tr><tr><td>message</td><td>String</td><td>Notification content</td></tr><tr><td>isRead</td><td>Boolean</td><td>Read status</td></tr><tr><td>client</td><td>String</td><td>Target client</td></tr><tr><td>notificationType</td><td>String</td><td>Reference to notification type</td></tr><tr><td>notificationChannel</td><td>String</td><td>Reference to notification channel</td></tr><tr><td>priority</td><td>Int</td><td>Importance level</td></tr><tr><td>serial</td><td>String</td><td>Unique identifier</td></tr><tr><td>isActive</td><td>Boolean</td><td>Active status</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Notifications → NotificationTypes (Many-to-One): Each notification has one type</li>
<li>Notifications → NotificationChannels (Many-to-One): Each notification uses one channel</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notificationtypes">NotificationTypes<a href="#notificationtypes" class="hash-link" aria-label="Direct link to NotificationTypes" title="Direct link to NotificationTypes">​</a></h3>
<p>Defines categories of notifications.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>title</td><td>String</td><td>Type name</td></tr><tr><td>description</td><td>String</td><td>Type description</td></tr><tr><td>level</td><td>Int</td><td>Importance level</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>NotificationTypes → Notifications (One-to-Many): Each type can be used by multiple notifications</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="notificationchannels">NotificationChannels<a href="#notificationchannels" class="hash-link" aria-label="Direct link to NotificationChannels" title="Direct link to NotificationChannels">​</a></h3>
<p>Defines delivery methods for notifications.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>title</td><td>String</td><td>Channel name</td></tr><tr><td>description</td><td>String</td><td>Channel description</td></tr><tr><td>level</td><td>Int</td><td>Priority level</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>NotificationChannels → Notifications (One-to-Many): Each channel can be used by multiple notifications</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="permissions-and-access-control">Permissions and Access Control<a href="#permissions-and-access-control" class="hash-link" aria-label="Direct link to Permissions and Access Control" title="Direct link to Permissions and Access Control">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="permissions">Permissions<a href="#permissions" class="hash-link" aria-label="Direct link to Permissions" title="Direct link to Permissions">​</a></h3>
<p>Defines system permissions that can be assigned to users.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>serial</td><td>String</td><td>Unique identifier</td></tr><tr><td>name</td><td>String</td><td>Permission name</td></tr><tr><td>description</td><td>String</td><td>Permission description</td></tr><tr><td>permissionCategory</td><td>String</td><td>Reference to category</td></tr><tr><td>isActive</td><td>Boolean</td><td>Permission status</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>createdBy</td><td>String</td><td>Creator reference</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>deletedBy</td><td>String</td><td>Deleter reference</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Permissions → PermissionCategories (Many-to-One): Each permission belongs to one category</li>
<li>Permissions → UserPermissions (One-to-Many): Each permission can be assigned to multiple users</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="permissioncategories">PermissionCategories<a href="#permissioncategories" class="hash-link" aria-label="Direct link to PermissionCategories" title="Direct link to PermissionCategories">​</a></h3>
<p>Groups permissions into logical categories.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>serial</td><td>String</td><td>Unique identifier</td></tr><tr><td>name</td><td>String</td><td>Category name</td></tr><tr><td>description</td><td>String</td><td>Category description</td></tr><tr><td>isActive</td><td>Boolean</td><td>Category status</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>createdBy</td><td>String</td><td>Creator reference</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>PermissionCategories → Permissions (One-to-Many): Each category can contain multiple permissions</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="userpermissions">UserPermissions<a href="#userpermissions" class="hash-link" aria-label="Direct link to UserPermissions" title="Direct link to UserPermissions">​</a></h3>
<p>Links users to their assigned permissions.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>user</td><td>String</td><td>Reference to user</td></tr><tr><td>permission</td><td>String</td><td>Reference to permission</td></tr><tr><td>serial</td><td>String</td><td>Unique identifier</td></tr><tr><td>isActive</td><td>Boolean</td><td>Assignment status</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>createdBy</td><td>String</td><td>Creator reference</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr><tr><td>deletedBy</td><td>String</td><td>Deleter reference</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>UserPermissions → Users (Many-to-One): Each permission assignment belongs to one user</li>
<li>UserPermissions → Permissions (Many-to-One): Each permission assignment refers to one permission</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="policies">Policies<a href="#policies" class="hash-link" aria-label="Direct link to Policies" title="Direct link to Policies">​</a></h3>
<p>Stores system policies and terms that users must accept.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>title</td><td>String</td><td>Policy title</td></tr><tr><td>content</td><td>String</td><td>Policy text</td></tr><tr><td>version</td><td>String</td><td>Policy version</td></tr><tr><td>isActive</td><td>Boolean</td><td>Policy status</td></tr><tr><td>type</td><td>String</td><td>Policy type</td></tr><tr><td>effectiveDate</td><td>DateTime</td><td>When policy takes effect</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>updatedAt</td><td>DateTime</td><td>Last update timestamp</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Policies → UserPolicies (One-to-Many): Each policy can have multiple user acceptances</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="organizations">Organizations<a href="#organizations" class="hash-link" aria-label="Direct link to Organizations" title="Direct link to Organizations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="companies">Companies<a href="#companies" class="hash-link" aria-label="Direct link to Companies" title="Direct link to Companies">​</a></h3>
<p>Stores information about organizations using the system.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>name</td><td>String</td><td>Company name</td></tr><tr><td>nit</td><td>String</td><td>Tax identification number</td></tr><tr><td>address</td><td>String</td><td>Physical address</td></tr><tr><td>email</td><td>String</td><td>Contact email</td></tr><tr><td>phoneNumber</td><td>Long</td><td>Contact number</td></tr><tr><td>managerData</td><td>ManagerData</td><td>Manager information</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>isActive</td><td>Boolean</td><td>Company status</td></tr><tr><td>slogan</td><td>String</td><td>Company motto</td></tr><tr><td>userAdmin</td><td>String</td><td>Admin user reference</td></tr><tr><td>editedAt</td><td>DateTime</td><td>Last edit timestamp</td></tr><tr><td>isMain</td><td>Boolean</td><td>Primary company flag</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Companies → Users (One-to-Many): Each company can have multiple users</li>
<li>Companies → ManagerData (One-to-One): Each company has one manager data record</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="managerdata">ManagerData<a href="#managerdata" class="hash-link" aria-label="Direct link to ManagerData" title="Direct link to ManagerData">​</a></h3>
<p>Embedded document within Companies that stores manager information.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>Manager name</td></tr><tr><td>documentType</td><td>String</td><td>ID type</td></tr><tr><td>document</td><td>String</td><td>ID number</td></tr><tr><td>email</td><td>String</td><td>Contact email</td></tr><tr><td>phoneNumber</td><td>String</td><td>Contact number</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hightschools">HightSchools<a href="#hightschools" class="hash-link" aria-label="Direct link to HightSchools" title="Direct link to HightSchools">​</a></h3>
<p>Stores information about educational institutions.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>id</td><td>String</td><td>School identifier</td></tr><tr><td>name</td><td>String</td><td>School name</td></tr><tr><td>address</td><td>String</td><td>Physical address</td></tr><tr><td>nit</td><td>String</td><td>Tax identification number</td></tr><tr><td>email</td><td>String</td><td>Contact email</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>HightSchools → Courses (One-to-Many): Each school can have multiple courses</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="courses">Courses<a href="#courses" class="hash-link" aria-label="Direct link to Courses" title="Direct link to Courses">​</a></h3>
<p>Stores information about courses offered by schools.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>id</td><td>String</td><td>Course identifier</td></tr><tr><td>name</td><td>String</td><td>Course name</td></tr><tr><td>hightSchool</td><td>String</td><td>Reference to school</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>Courses → HightSchools (Many-to-One): Each course belongs to one school</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clients">Clients<a href="#clients" class="hash-link" aria-label="Direct link to Clients" title="Direct link to Clients">​</a></h3>
<p>Stores information about client organizations.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>name</td><td>String</td><td>Client name</td></tr><tr><td>nit</td><td>String</td><td>Tax identification number</td></tr><tr><td>epsCode</td><td>String</td><td>Health provider code</td></tr><tr><td>address</td><td>String</td><td>Physical address</td></tr><tr><td>phoneNumber</td><td>String</td><td>Contact number</td></tr><tr><td>email</td><td>String</td><td>Contact email</td></tr><tr><td>overdueInvoiceIds</td><td>ObjectId[]</td><td>Overdue invoice references</td></tr><tr><td>creditLimit</td><td>Number</td><td>Maximum credit allowed</td></tr><tr><td>transactions</td><td>ObjectId[]</td><td>Transaction references</td></tr><tr><td>avatar</td><td>String</td><td>Logo reference</td></tr><tr><td>isParticular</td><td>Boolean</td><td>Individual client flag</td></tr><tr><td>regime</td><td>String</td><td>Tax regime</td></tr><tr><td>serial</td><td>String</td><td>Unique identifier</td></tr><tr><td>isActive</td><td>Boolean</td><td>Client status</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>createdBy</td><td>String</td><td>Creator reference</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>__v</td><td>Number</td><td>Version number</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-configuration">System Configuration<a href="#system-configuration" class="hash-link" aria-label="Direct link to System Configuration" title="Direct link to System Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configs">Configs<a href="#configs" class="hash-link" aria-label="Direct link to Configs" title="Direct link to Configs">​</a></h3>
<p>Stores system configuration settings.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>name</td><td>String</td><td>Configuration name</td></tr><tr><td>flag</td><td>Boolean</td><td>Toggle state</td></tr><tr><td>allowedUsers</td><td>String[]</td><td>Users with access</td></tr><tr><td>disallowedUsers</td><td>String[]</td><td>Users without access</td></tr><tr><td>createdBy</td><td>String</td><td>Creator reference</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>editedAt</td><td>DateTime</td><td>Last edit timestamp</td></tr><tr><td>editedBy</td><td>String</td><td>Last editor reference</td></tr><tr><td>isActive</td><td>Boolean</td><td>Configuration status</td></tr><tr><td>description</td><td>String</td><td>Configuration description</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="feedbacks">Feedbacks<a href="#feedbacks" class="hash-link" aria-label="Direct link to Feedbacks" title="Direct link to Feedbacks">​</a></h3>
<p>Stores user feedback and feature requests.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>title</td><td>String</td><td>Feedback title</td></tr><tr><td>description</td><td>String</td><td>Feedback content</td></tr><tr><td>isFeature</td><td>Boolean</td><td>Feature request flag</td></tr><tr><td>isSupport</td><td>Boolean</td><td>Support request flag</td></tr><tr><td>serial</td><td>String</td><td>Unique identifier</td></tr><tr><td>isActive</td><td>Boolean</td><td>Feedback status</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>createdBy</td><td>String</td><td>Creator reference</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>__v</td><td>Int</td><td>Version number</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="audit-and-reporting">Audit and Reporting<a href="#audit-and-reporting" class="hash-link" aria-label="Direct link to Audit and Reporting" title="Direct link to Audit and Reporting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="auditlogs">AuditLogs<a href="#auditlogs" class="hash-link" aria-label="Direct link to AuditLogs" title="Direct link to AuditLogs">​</a></h3>
<p>Tracks user actions within the system for security and compliance.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>user</td><td>String</td><td>User reference</td></tr><tr><td>action</td><td>String</td><td>Action performed</td></tr><tr><td>entity</td><td>String</td><td>Affected entity</td></tr><tr><td>details</td><td>String</td><td>Action details</td></tr><tr><td>ip</td><td>String</td><td>User IP address</td></tr><tr><td>isActive</td><td>Boolean</td><td>Log status</td></tr><tr><td>deleted</td><td>Boolean</td><td>Soft deletion flag</td></tr><tr><td>timestamp</td><td>DateTime</td><td>Action timestamp</td></tr><tr><td>deletedAt</td><td>DateTime</td><td>Deletion timestamp</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>__v</td><td>Number</td><td>Version number</td></tr></tbody></table>
<p><strong>Relationships:</strong></p>
<ul>
<li>AuditLogs → Users (Many-to-One): Each log entry is associated with one user</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reports">Reports<a href="#reports" class="hash-link" aria-label="Direct link to Reports" title="Direct link to Reports">​</a></h3>
<p>Stores generated reports and their download history.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>invoiceId</td><td>String</td><td>Related invoice reference</td></tr><tr><td>reportType</td><td>String</td><td>Report category</td></tr><tr><td>downloadHistory</td><td>ObjectId[]</td><td>Download record references</td></tr><tr><td>createdAt</td><td>DateTime</td><td>Creation timestamp</td></tr><tr><td>__v</td><td>Number</td><td>Version number</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="weeklyschedules">WeeklySchedules<a href="#weeklyschedules" class="hash-link" aria-label="Direct link to WeeklySchedules" title="Direct link to WeeklySchedules">​</a></h3>
<p>Stores scheduling information for activities and participants.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>weekNumber</td><td>Number</td><td>Week number</td></tr><tr><td>year</td><td>Number</td><td>Year</td></tr><tr><td>days</td><td>ObjectId[]</td><td>Day references</td></tr><tr><td>participants</td><td>ObjectId[]</td><td>Participant references</td></tr><tr><td>__v</td><td>Number</td><td>Version number</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="file-storage">File Storage<a href="#file-storage" class="hash-link" aria-label="Direct link to File Storage" title="Direct link to File Storage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fsfiles">FsFiles<a href="#fsfiles" class="hash-link" aria-label="Direct link to FsFiles" title="Direct link to FsFiles">​</a></h3>
<p>Stores metadata for files stored in the system.</p>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>_id</td><td>ObjectId</td><td>Primary key</td></tr><tr><td>length</td><td>Int</td><td>File size in bytes</td></tr><tr><td>chunkSize</td><td>Int</td><td>GridFS chunk size</td></tr><tr><td>uploadDate</td><td>DateTime</td><td>Upload timestamp</td></tr><tr><td>filename</td><td>String</td><td>Original filename</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-relationships-diagram">Database Relationships Diagram<a href="#database-relationships-diagram" class="hash-link" aria-label="Direct link to Database Relationships Diagram" title="Direct link to Database Relationships Diagram">​</a></h2>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph TD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Users --&gt; Roles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Users --&gt; Companies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UserPolicies --&gt; Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UserPolicies --&gt; Policies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Activities --&gt; Emotions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UserResponses --&gt; Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UserResponses --&gt; Activities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Pretest --&gt; Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Notifications --&gt; NotificationTypes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Notifications --&gt; NotificationChannels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Permissions --&gt; PermissionCategories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UserPermissions --&gt; Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UserPermissions --&gt; Permissions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Companies --&gt; Users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Courses --&gt; HightSchools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    AuditLogs --&gt; Users</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-patterns">Common Patterns<a href="#common-patterns" class="hash-link" aria-label="Direct link to Common Patterns" title="Direct link to Common Patterns">​</a></h2>
<p>The database schema follows several common patterns:</p>
<ol>
<li>
<p><strong>Soft Deletion</strong>: Most collections include <code>deleted</code> and <code>deletedAt</code> fields to support soft deletion.</p>
</li>
<li>
<p><strong>Audit Fields</strong>: Most collections include creation and modification timestamps and user references.</p>
</li>
<li>
<p><strong>Versioning</strong>: Many collections include a <code>__v</code> field for optimistic concurrency control.</p>
</li>
<li>
<p><strong>Embedded Documents</strong>: Complex data structures are represented as embedded documents (e.g., Resources within Activities).</p>
</li>
<li>
<p><strong>Reference by ID</strong>: Relationships between collections are established using ObjectId references.</p>
</li>
<li>
<p><strong>Status Flags</strong>: Most collections include an <code>isActive</code> field to indicate current status.</p>
</li>
<li>
<p><strong>Serial Numbers</strong>: Many collections include a <code>serial</code> field as a human-readable unique identifier.</p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/desobsesor/vibra-web-wiki/tree/main/docs/applications/model-schema-db.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/vibra-web-wiki/docs/category/applications-in-vibra"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Applications in Vibra</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/vibra-web-wiki/docs/applications/dashboard-api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Dashboard API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#preview" class="table-of-contents__link toc-highlight">Preview</a></li><li><a href="#user-management" class="table-of-contents__link toc-highlight">User Management</a><ul><li><a href="#users" class="table-of-contents__link toc-highlight">Users</a></li><li><a href="#userpolicies" class="table-of-contents__link toc-highlight">UserPolicies</a></li><li><a href="#roles" class="table-of-contents__link toc-highlight">Roles</a></li></ul></li><li><a href="#activities-and-learning" class="table-of-contents__link toc-highlight">Activities and Learning</a><ul><li><a href="#activities" class="table-of-contents__link toc-highlight">Activities</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#metadatas" class="table-of-contents__link toc-highlight">Metadatas</a></li><li><a href="#questions" class="table-of-contents__link toc-highlight">Questions</a></li><li><a href="#schedule" class="table-of-contents__link toc-highlight">Schedule</a></li><li><a href="#emotions" class="table-of-contents__link toc-highlight">Emotions</a></li><li><a href="#userresponses" class="table-of-contents__link toc-highlight">UserResponses</a></li><li><a href="#userresponse" class="table-of-contents__link toc-highlight">UserResponse</a></li><li><a href="#pretest" class="table-of-contents__link toc-highlight">Pretest</a></li><li><a href="#pretestresponse" class="table-of-contents__link toc-highlight">PretestResponse</a></li></ul></li><li><a href="#notifications" class="table-of-contents__link toc-highlight">Notifications</a><ul><li><a href="#notifications-1" class="table-of-contents__link toc-highlight">Notifications</a></li><li><a href="#notificationtypes" class="table-of-contents__link toc-highlight">NotificationTypes</a></li><li><a href="#notificationchannels" class="table-of-contents__link toc-highlight">NotificationChannels</a></li></ul></li><li><a href="#permissions-and-access-control" class="table-of-contents__link toc-highlight">Permissions and Access Control</a><ul><li><a href="#permissions" class="table-of-contents__link toc-highlight">Permissions</a></li><li><a href="#permissioncategories" class="table-of-contents__link toc-highlight">PermissionCategories</a></li><li><a href="#userpermissions" class="table-of-contents__link toc-highlight">UserPermissions</a></li><li><a href="#policies" class="table-of-contents__link toc-highlight">Policies</a></li></ul></li><li><a href="#organizations" class="table-of-contents__link toc-highlight">Organizations</a><ul><li><a href="#companies" class="table-of-contents__link toc-highlight">Companies</a></li><li><a href="#managerdata" class="table-of-contents__link toc-highlight">ManagerData</a></li><li><a href="#hightschools" class="table-of-contents__link toc-highlight">HightSchools</a></li><li><a href="#courses" class="table-of-contents__link toc-highlight">Courses</a></li><li><a href="#clients" class="table-of-contents__link toc-highlight">Clients</a></li></ul></li><li><a href="#system-configuration" class="table-of-contents__link toc-highlight">System Configuration</a><ul><li><a href="#configs" class="table-of-contents__link toc-highlight">Configs</a></li><li><a href="#feedbacks" class="table-of-contents__link toc-highlight">Feedbacks</a></li></ul></li><li><a href="#audit-and-reporting" class="table-of-contents__link toc-highlight">Audit and Reporting</a><ul><li><a href="#auditlogs" class="table-of-contents__link toc-highlight">AuditLogs</a></li><li><a href="#reports" class="table-of-contents__link toc-highlight">Reports</a></li><li><a href="#weeklyschedules" class="table-of-contents__link toc-highlight">WeeklySchedules</a></li></ul></li><li><a href="#file-storage" class="table-of-contents__link toc-highlight">File Storage</a><ul><li><a href="#fsfiles" class="table-of-contents__link toc-highlight">FsFiles</a></li></ul></li><li><a href="#database-relationships-diagram" class="table-of-contents__link toc-highlight">Database Relationships Diagram</a></li><li><a href="#common-patterns" class="table-of-contents__link toc-highlight">Common Patterns</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/vibra-web-wiki/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.unad.edu.co/" target="_blank" rel="noopener noreferrer" class="footer__link-item">UNAD<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.unad.edu.co" target="_blank" rel="noopener noreferrer" class="footer__link-item">Research group<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://cdsmaya.com.co" target="_blank" rel="noopener noreferrer" class="footer__link-item">CDS<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/vibra-web-wiki/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Vibra, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>